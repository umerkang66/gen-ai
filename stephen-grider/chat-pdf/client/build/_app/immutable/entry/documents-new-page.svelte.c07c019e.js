import{V as Me,W as et,X as tt,Y as st,S as Qe,i as We,s as Xe,e as Te,b as T,v as se,d as C,f as re,g as U,h as f,Z as rt,D as Ye,k as m,q as y,a as I,l as _,m as h,r as D,c as S,n as p,p as Le,E as o,u as ae,C as le,M as at,N as lt,O as ot,P as nt,H as Oe,Q as ct,K as it,y as oe,z as ne,A as ce,B as ie}from"../chunks/index.2d05c76a.js";import{b as ft,g as ut}from"../chunks/navigation.b59769ff.js";import{A as Ze}from"../chunks/Alert.243174be.js";import{B as dt}from"../chunks/Button.dd6e525f.js";import{w as Ge}from"../chunks/index.d27beebb.js";import{a as pt,g as mt}from"../chunks/axios.4b626cb3.js";const _t={data:[],error:"",uploadProgress:0},Je=Ge(_t),fe=a=>{Je.update(e=>({...e,...a}))},ht=a=>{const e=Math.round(a.loaded/a.total*100);fe({uploadProgress:e})},gt=async a=>{fe({error:""});try{const e=new FormData;e.append("file",a),await pt.post("/pdfs",e,{onUploadProgress:ht})}catch(e){return fe({error:mt(e)})}},vt=()=>{fe({error:"",uploadProgress:0})};function ze(a){return Object.prototype.toString.call(a)==="[object Date]"}function ke(a,e){if(a===e||a!==a)return()=>a;const s=typeof a;if(s!==typeof e||Array.isArray(a)!==Array.isArray(e))throw new Error("Cannot interpolate values of different type");if(Array.isArray(a)){const t=e.map((r,l)=>ke(a[l],r));return r=>t.map(l=>l(r))}if(s==="object"){if(!a||!e)throw new Error("Object cannot be null");if(ze(a)&&ze(e)){a=a.getTime(),e=e.getTime();const l=e-a;return n=>new Date(a+n*l)}const t=Object.keys(e),r={};return t.forEach(l=>{r[l]=ke(a[l],e[l])}),l=>{const n={};return t.forEach(i=>{n[i]=r[i](l)}),n}}if(s==="number"){const t=e-a;return r=>a+r*t}throw new Error(`Cannot interpolate ${s} values`)}function bt(a,e={}){const s=Ge(a);let t,r=a;function l(n,i){if(a==null)return s.set(a=n),Promise.resolve();r=n;let c=t,u=!1,{delay:d=0,duration:g=400,easing:$=st,interpolate:A=ke}=Me(Me({},e),i);if(g===0)return c&&(c.abort(),c=null),s.set(a=r),Promise.resolve();const b=et()+d;let v;return t=tt(N=>{if(N<b)return!0;u||(v=A(a,n),typeof g=="function"&&(g=g(a,n)),u=!0),c&&(c.abort(),c=null);const F=N-b;return F>g?(s.set(a=n),!1):(s.set(a=v($(F/g))),!0)}),t.promise}return{set:l,update:(n,i)=>l(n(r,a),i),subscribe:s.subscribe}}function $t(a){let e,s,t,r,l,n,i=Math.round(a[0])+"",c,u,d,g,$;return{c(){e=m("div"),s=m("div"),t=m("span"),r=y("Uploading..."),l=I(),n=m("span"),c=y(i),u=y("%"),d=I(),g=m("div"),$=m("div"),this.h()},l(A){e=_(A,"DIV",{class:!0});var b=h(e);s=_(b,"DIV",{class:!0});var v=h(s);t=_(v,"SPAN",{});var N=h(t);r=D(N,"Uploading..."),N.forEach(f),l=S(v),n=_(v,"SPAN",{});var F=h(n);c=D(F,i),u=D(F,"%"),F.forEach(f),v.forEach(f),d=S(b),g=_(b,"DIV",{class:!0});var B=h(g);$=_(B,"DIV",{class:!0,role:!0,style:!0}),h($).forEach(f),B.forEach(f),b.forEach(f),this.h()},h(){p(s,"class","flex justify-between text-sm text-secondary-600"),p($,"class","h-full bg-gradient-to-r from-primary-500 to-accent-500 rounded-full transition-all duration-300 ease-out"),p($,"role","progressbar"),Le($,"width",a[0]+"%"),p(g,"class","w-full h-2 bg-secondary-200 rounded-full overflow-hidden"),p(e,"class","space-y-2")},m(A,b){T(A,e,b),o(e,s),o(s,t),o(t,r),o(s,l),o(s,n),o(n,c),o(n,u),o(e,d),o(e,g),o(g,$)},p(A,b){b&1&&i!==(i=Math.round(A[0])+"")&&ae(c,i),b&1&&Le($,"width",A[0]+"%")},i:le,o:le,d(A){A&&f(e)}}}function Et(a){let e;const s=a[5].default,t=at(s,a,a[4],null);return{c(){t&&t.c()},l(r){t&&t.l(r)},m(r,l){t&&t.m(r,l),e=!0},p(r,l){t&&t.p&&(!e||l&16)&&lt(t,s,r,r[4],e?nt(s,r[4],l,null):ot(r[4]),null)},i(r){e||(U(t,r),e=!0)},o(r){C(t,r),e=!1},d(r){t&&t.d(r)}}}function yt(a){let e,s,t,r;const l=[Et,$t],n=[];function i(c,u){return c[2].default&&c[0]===100?0:1}return e=i(a),s=n[e]=l[e](a),{c(){s.c(),t=Te()},l(c){s.l(c),t=Te()},m(c,u){n[e].m(c,u),T(c,t,u),r=!0},p(c,[u]){let d=e;e=i(c),e===d?n[e].p(c,u):(se(),C(n[d],1,1,()=>{n[d]=null}),re(),s=n[e],s?s.p(c,u):(s=n[e]=l[e](c),s.c()),U(s,1),s.m(t.parentNode,t))},i(c){r||(U(s),r=!0)},o(c){C(s),r=!1},d(c){n[e].d(c),c&&f(t)}}}function Dt(a,e,s){let t,{$$slots:r={},$$scope:l}=e;const n=rt(r);let{progress:i=0}=e;const c=bt(1,{duration:1e3});return Ye(a,c,u=>s(0,t=u)),a.$$set=u=>{"progress"in u&&s(3,i=u.progress),"$$scope"in u&&s(4,l=u.$$scope)},a.$$.update=()=>{a.$$.dirty&8&&c.set(i)},[t,c,n,i,l,r]}class Pt extends Qe{constructor(e){super(),We(this,e,Dt,yt,Xe,{progress:3})}}function Re(a){let e,s,t,r,l,n,i=a[0][0].name+"",c,u,d,g=(a[0][0].size/1024/1024).toFixed(2)+"",$,A;return{c(){e=m("div"),s=m("span"),t=y("check_circle"),r=I(),l=m("div"),n=m("p"),c=y(i),u=I(),d=m("p"),$=y(g),A=y(" MB"),this.h()},l(b){e=_(b,"DIV",{class:!0});var v=h(e);s=_(v,"SPAN",{class:!0});var N=h(s);t=D(N,"check_circle"),N.forEach(f),r=S(v),l=_(v,"DIV",{});var F=h(l);n=_(F,"P",{class:!0});var B=h(n);c=D(B,i),B.forEach(f),u=S(F),d=_(F,"P",{class:!0});var j=h(d);$=D(j,g),A=D(j," MB"),j.forEach(f),F.forEach(f),v.forEach(f),this.h()},h(){p(s,"class","material-icons text-green-600"),p(n,"class","text-sm font-medium text-green-800"),p(d,"class","text-xs text-green-600"),p(e,"class","flex items-center space-x-3 p-4 bg-green-50 border border-green-200 rounded-xl")},m(b,v){T(b,e,v),o(e,s),o(s,t),o(e,r),o(e,l),o(l,n),o(n,c),o(l,u),o(l,d),o(d,$),o(d,A)},p(b,v){v&1&&i!==(i=b[0][0].name+"")&&ae(c,i),v&1&&g!==(g=(b[0][0].size/1024/1024).toFixed(2)+"")&&ae($,g)},d(b){b&&f(e)}}}function qe(a){let e,s,t,r,l;return s=new Pt({props:{progress:a[2].uploadProgress}}),r=new Ze({props:{type:"success",$$slots:{default:[kt]},$$scope:{ctx:a}}}),{c(){e=m("div"),oe(s.$$.fragment),t=I(),oe(r.$$.fragment),this.h()},l(n){e=_(n,"DIV",{class:!0});var i=h(e);ne(s.$$.fragment,i),t=S(i),ne(r.$$.fragment,i),i.forEach(f),this.h()},h(){p(e,"class","space-y-4")},m(n,i){T(n,e,i),ce(s,e,null),o(e,t),ce(r,e,null),l=!0},p(n,i){const c={};i&4&&(c.progress=n[2].uploadProgress),s.$set(c);const u={};i&64&&(u.$$scope={dirty:i,ctx:n}),r.$set(u)},i(n){l||(U(s.$$.fragment,n),U(r.$$.fragment,n),l=!0)},o(n){C(s.$$.fragment,n),C(r.$$.fragment,n),l=!1},d(n){n&&f(e),ie(s),ie(r)}}}function kt(a){let e,s,t,r,l,n;return{c(){e=m("div"),s=m("span"),t=y("check_circle"),r=I(),l=m("span"),n=y("Upload Complete! Returning to documents..."),this.h()},l(i){e=_(i,"DIV",{class:!0});var c=h(e);s=_(c,"SPAN",{class:!0});var u=h(s);t=D(u,"check_circle"),u.forEach(f),r=S(c),l=_(c,"SPAN",{});var d=h(l);n=D(d,"Upload Complete! Returning to documents..."),d.forEach(f),c.forEach(f),this.h()},h(){p(s,"class","material-icons"),p(e,"class","flex items-center space-x-2")},m(i,c){T(i,e,c),o(e,s),o(s,t),o(e,r),o(e,l),o(l,n)},p:le,d(i){i&&f(e)}}}function He(a){let e,s;return e=new Ze({props:{type:"error",$$slots:{default:[wt]},$$scope:{ctx:a}}}),{c(){oe(e.$$.fragment)},l(t){ne(e.$$.fragment,t)},m(t,r){ce(e,t,r),s=!0},p(t,r){const l={};r&68&&(l.$$scope={dirty:r,ctx:t}),e.$set(l)},i(t){s||(U(e.$$.fragment,t),s=!0)},o(t){C(e.$$.fragment,t),s=!1},d(t){ie(e,t)}}}function wt(a){let e=a[2].error+"",s;return{c(){s=y(e)},l(t){s=D(t,e)},m(t,r){T(t,s,r)},p(t,r){r&4&&e!==(e=t[2].error+"")&&ae(s,e)},d(t){t&&f(s)}}}function Ke(a){let e,s;return e=new dt({props:{variant:"primary",size:"lg",className:"w-full",disabled:!a[0]||a[0].length===0,$$slots:{default:[At]},$$scope:{ctx:a}}}),{c(){oe(e.$$.fragment)},l(t){ne(e.$$.fragment,t)},m(t,r){ce(e,t,r),s=!0},p(t,r){const l={};r&1&&(l.disabled=!t[0]||t[0].length===0),r&64&&(l.$$scope={dirty:r,ctx:t}),e.$set(l)},i(t){s||(U(e.$$.fragment,t),s=!0)},o(t){C(e.$$.fragment,t),s=!1},d(t){ie(e,t)}}}function At(a){let e,s,t;return{c(){e=m("span"),s=y("upload_file"),t=y(`
					Upload Document`),this.h()},l(r){e=_(r,"SPAN",{class:!0});var l=h(e);s=D(l,"upload_file"),l.forEach(f),t=D(r,`
					Upload Document`),this.h()},h(){p(e,"class","material-icons mr-2")},m(r,l){T(r,e,l),o(e,s),T(r,t,l)},p:le,d(r){r&&f(e),r&&f(t)}}}function It(a){let e,s,t,r,l,n,i,c,u,d,g,$,A,b,v,N,F,B,j,z,ue,de,O,R,pe,me,_e,q,he,ge,ve,Y,Z,be,H,M,K,$e,Ee,X,ye,G,De,we,V=a[0]&&a[0].length>0&&Re(a),P=a[1]&&!a[2].error&&qe(a),k=a[2].error&&He(a),w=!a[1]&&Ke(a);return{c(){e=m("div"),s=m("div"),t=m("h1"),r=y("Upload Document"),l=I(),n=m("p"),i=y("Upload a PDF document to start chatting with AI assistance"),c=I(),u=m("div"),d=m("form"),g=m("div"),$=m("label"),A=y("Select PDF Document"),b=I(),v=m("div"),N=m("input"),F=I(),B=m("label"),j=m("div"),z=m("span"),ue=y("cloud_upload"),de=I(),O=m("p"),R=m("span"),pe=y("Click to upload"),me=y(" or drag and drop"),_e=I(),q=m("p"),he=y("PDF files only"),ge=I(),V&&V.c(),ve=I(),P&&P.c(),Y=I(),k&&k.c(),Z=I(),w&&w.c(),be=I(),H=m("div"),M=m("a"),K=m("span"),$e=y("arrow_back"),Ee=I(),X=m("span"),ye=y("Back to Documents"),this.h()},l(E){e=_(E,"DIV",{class:!0});var x=h(e);s=_(x,"DIV",{class:!0});var J=h(s);t=_(J,"H1",{class:!0});var Ae=h(t);r=D(Ae,"Upload Document"),Ae.forEach(f),l=S(J),n=_(J,"P",{class:!0});var Ie=h(n);i=D(Ie,"Upload a PDF document to start chatting with AI assistance"),Ie.forEach(f),J.forEach(f),c=S(x),u=_(x,"DIV",{class:!0});var Se=h(u);d=_(Se,"FORM",{class:!0});var L=h(d);g=_(L,"DIV",{class:!0});var Q=h(g);$=_(Q,"LABEL",{class:!0});var Ne=h($);A=D(Ne,"Select PDF Document"),Ne.forEach(f),b=S(Q),v=_(Q,"DIV",{class:!0});var ee=h(v);N=_(ee,"INPUT",{type:!0,accept:!0,id:!0,class:!0}),F=S(ee),B=_(ee,"LABEL",{for:!0,class:!0});var Ve=h(B);j=_(Ve,"DIV",{class:!0});var W=h(j);z=_(W,"SPAN",{class:!0});var xe=h(z);ue=D(xe,"cloud_upload"),xe.forEach(f),de=S(W),O=_(W,"P",{class:!0});var Pe=h(O);R=_(Pe,"SPAN",{class:!0});var Ue=h(R);pe=D(Ue,"Click to upload"),Ue.forEach(f),me=D(Pe," or drag and drop"),Pe.forEach(f),_e=S(W),q=_(W,"P",{class:!0});var Fe=h(q);he=D(Fe,"PDF files only"),Fe.forEach(f),W.forEach(f),Ve.forEach(f),ee.forEach(f),ge=S(Q),V&&V.l(Q),Q.forEach(f),ve=S(L),P&&P.l(L),Y=S(L),k&&k.l(L),Z=S(L),w&&w.l(L),L.forEach(f),Se.forEach(f),be=S(x),H=_(x,"DIV",{class:!0});var je=h(H);M=_(je,"A",{href:!0,class:!0});var te=h(M);K=_(te,"SPAN",{class:!0});var Be=h(K);$e=D(Be,"arrow_back"),Be.forEach(f),Ee=S(te),X=_(te,"SPAN",{});var Ce=h(X);ye=D(Ce,"Back to Documents"),Ce.forEach(f),te.forEach(f),je.forEach(f),x.forEach(f),this.h()},h(){p(t,"class","text-4xl font-bold bg-gradient-to-r from-primary-600 to-accent-600 bg-clip-text text-transparent"),p(n,"class","text-secondary-600 text-lg"),p(s,"class","text-center space-y-4"),p($,"class","block text-sm font-medium text-secondary-700"),p(N,"type","file"),p(N,"accept",".pdf"),p(N,"id","file-input"),p(N,"class","sr-only"),p(z,"class","material-icons text-4xl text-secondary-400 mb-2"),p(R,"class","font-semibold"),p(O,"class","mb-2 text-sm text-secondary-500"),p(q,"class","text-xs text-secondary-400"),p(j,"class","flex flex-col items-center justify-center pt-5 pb-6"),p(B,"for","file-input"),p(B,"class","flex flex-col items-center justify-center w-full h-32 border-2 border-dashed border-secondary-300 rounded-xl cursor-pointer bg-secondary-50 hover:bg-secondary-100 transition-colors duration-200"),p(v,"class","relative"),p(g,"class","space-y-4"),p(d,"class","space-y-6"),p(u,"class","glass-effect rounded-2xl p-8 shadow-large"),p(K,"class","material-icons text-sm"),p(M,"href","/documents"),p(M,"class","text-secondary-600 hover:text-primary-600 font-medium transition-colors duration-200 flex items-center justify-center space-x-1"),p(H,"class","text-center"),p(e,"class","max-w-2xl mx-auto space-y-8")},m(E,x){T(E,e,x),o(e,s),o(s,t),o(t,r),o(s,l),o(s,n),o(n,i),o(e,c),o(e,u),o(u,d),o(d,g),o(g,$),o($,A),o(g,b),o(g,v),o(v,N),o(v,F),o(v,B),o(B,j),o(j,z),o(z,ue),o(j,de),o(j,O),o(O,R),o(R,pe),o(O,me),o(j,_e),o(j,q),o(q,he),o(g,ge),V&&V.m(g,null),o(d,ve),P&&P.m(d,null),o(d,Y),k&&k.m(d,null),o(d,Z),w&&w.m(d,null),o(e,be),o(e,H),o(H,M),o(M,K),o(K,$e),o(M,Ee),o(M,X),o(X,ye),G=!0,De||(we=[Oe(N,"change",a[4]),Oe(d,"submit",ct(a[3]))],De=!0)},p(E,[x]){E[0]&&E[0].length>0?V?V.p(E,x):(V=Re(E),V.c(),V.m(g,null)):V&&(V.d(1),V=null),E[1]&&!E[2].error?P?(P.p(E,x),x&6&&U(P,1)):(P=qe(E),P.c(),U(P,1),P.m(d,Y)):P&&(se(),C(P,1,1,()=>{P=null}),re()),E[2].error?k?(k.p(E,x),x&4&&U(k,1)):(k=He(E),k.c(),U(k,1),k.m(d,Z)):k&&(se(),C(k,1,1,()=>{k=null}),re()),E[1]?w&&(se(),C(w,1,1,()=>{w=null}),re()):w?(w.p(E,x),x&2&&U(w,1)):(w=Ke(E),w.c(),U(w,1),w.m(d,null))},i(E){G||(U(P),U(k),U(w),G=!0)},o(E){C(P),C(k),C(w),G=!1},d(E){E&&f(e),V&&V.d(),P&&P.d(),k&&k.d(),w&&w.d(),De=!1,it(we)}}}function St(a,e,s){let t;Ye(a,Je,c=>s(2,t=c));let r,l=!1;async function n(){!r||r.length===0||(s(1,l=!0),await gt(r[0]),t.error?s(1,l=!1):setTimeout(()=>{ut("/documents"),s(1,l=!1)},2e3))}ft(vt);function i(){r=this.files,s(0,r)}return[r,l,t,n,i]}class Bt extends Qe{constructor(e){super(),We(this,e,St,It,Xe,{})}}export{Bt as default};
